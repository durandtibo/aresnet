{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#overview","title":"Overview","text":"<p><code>aresnet</code> is a Python library that provides resilient HTTP request functionality with automatic retry logic and exponential backoff. Built on top of the modern httpx library, it simplifies handling transient failures in HTTP communications, making your applications more robust and fault-tolerant.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Automatic Retry Logic: Automatically retries failed requests for configurable HTTP status   codes (429, 500, 502, 503, 504 by default)</li> <li>Exponential Backoff: Implements exponential backoff strategy to avoid overwhelming servers</li> <li>Built on httpx: Leverages the modern, async-capable httpx library</li> <li>Configurable: Customize timeout, retry attempts, backoff factors, and retryable status codes</li> <li>Type-Safe: Fully typed with comprehensive type hints</li> <li>Well-Tested: Extensive test coverage ensuring reliability</li> </ul>"},{"location":"#quick-examples","title":"Quick Examples","text":""},{"location":"#basic-get-request","title":"Basic GET Request","text":"<pre><code>from aresnet import get_with_automatic_retry\n\n# Simple GET request with automatic retry\nresponse = get_with_automatic_retry(\"https://api.example.com/data\")\nprint(response.json())\n</code></pre>"},{"location":"#basic-post-request","title":"Basic POST Request","text":"<pre><code>from aresnet import post_with_automatic_retry\n\n# POST request with JSON payload\nresponse = post_with_automatic_retry(\n    \"https://api.example.com/submit\", json={\"key\": \"value\"}\n)\nprint(response.status_code)\n</code></pre>"},{"location":"#customizing-retry-behavior","title":"Customizing Retry Behavior","text":"<pre><code>from aresnet import get_with_automatic_retry\n\n# Custom retry configuration\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    max_retries=5,  # Retry up to 5 times\n    backoff_factor=1.0,  # Exponential backoff factor\n    timeout=30.0,  # 30 second timeout\n    status_forcelist=(429, 503),  # Only retry on these status codes\n)\n</code></pre>"},{"location":"#installation","title":"Installation","text":"<p>Install using <code>uv</code> (recommended):</p> <pre><code>uv pip install aresnet\n</code></pre> <p>Or using <code>pip</code>:</p> <pre><code>pip install aresnet\n</code></pre>"},{"location":"#api-stability","title":"API stability","text":"<p> While <code>aresnet</code> is in development stage, no API is guaranteed to be stable from one release to the next. In fact, it is very likely that the API will change multiple times before a stable 1.0.0 release. In practice, this means that upgrading <code>aresnet</code> to a new version will possibly break any code that was using the old version of <code>aresnet</code>.</p>"},{"location":"#license","title":"License","text":"<p><code>aresnet</code> is licensed under BSD 3-Clause \"New\" or \"Revised\" license available in LICENSE file.</p>"},{"location":"get_started/","title":"Get Started","text":"<p>It is highly recommended to install in a virtual environment to keep your system in order.</p>"},{"location":"get_started/#installing-with-uv-recommended","title":"Installing with <code>uv</code> (recommended)","text":"<p>The following command installs the latest stable version of the library:</p> <pre><code>uv pip install aresnet\n</code></pre> <p>To install the latest development version from GitHub:</p> <pre><code>uv pip install git+https://github.com/durandtibo/aresnet.git\n</code></pre> <p>To install a specific version:</p> <pre><code>uv pip install aresnet==0.3.0\n</code></pre>"},{"location":"get_started/#installing-with-pip","title":"Installing with <code>pip</code>","text":"<p>The following command installs the latest stable version of the library:</p> <pre><code>pip install aresnet\n</code></pre> <p>To install the latest development version from GitHub:</p> <pre><code>pip install git+https://github.com/durandtibo/aresnet.git\n</code></pre> <p>To install a specific version:</p> <pre><code>pip install aresnet==0.3.0\n</code></pre>"},{"location":"get_started/#verifying-installation","title":"Verifying Installation","text":"<p>After installation, you can verify that aresnet is correctly installed by running:</p> <pre><code>python -c \"import aresnet; print(aresnet.__version__)\"\n</code></pre> <p>Or try a simple example:</p> <pre><code>from aresnet import get_with_automatic_retry\n\n# Make a simple GET request (this is a safe example that won't actually execute)\n# response = get_with_automatic_retry(\"https://api.example.com/data\")\n# print(response.json())\n\n# Verify the module is properly imported\nprint(\"aresnet imported successfully!\")\n</code></pre>"},{"location":"get_started/#installing-from-source","title":"Installing from source","text":"<p>To install <code>aresnet</code> from source, you can follow the steps below.</p>"},{"location":"get_started/#prerequisites","title":"Prerequisites","text":"<p>This project uses <code>uv</code> for dependency management. Please refer to the uv installation documentation for installation instructions.</p>"},{"location":"get_started/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone git@github.com:durandtibo/aresnet.git\ncd aresnet\n</code></pre>"},{"location":"get_started/#create-a-virtual-environment","title":"Create a Virtual Environment","text":"<p>It is recommended to create a Python 3.10+ virtual environment:</p> <pre><code>make setup-venv\n</code></pre> <p>This command creates a virtual environment using <code>uv</code> and installs all dependencies including development tools.</p> <p>Alternatively, you can create a conda virtual environment:</p> <pre><code>make conda\nconda activate aresnet\nmake install\n</code></pre>"},{"location":"get_started/#install-dependencies","title":"Install Dependencies","text":"<p>To install only the core dependencies:</p> <pre><code>make install\n</code></pre> <p>To install all dependencies including documentation tools:</p> <pre><code>make install-all\n</code></pre>"},{"location":"get_started/#verify-installation","title":"Verify Installation","text":"<p>You can test the installation with the following command:</p> <pre><code>make unit-test-cov\n</code></pre> <p>This will run the test suite with coverage reporting.</p>"},{"location":"get_started/#development-setup","title":"Development Setup","text":"<p>If you plan to contribute to aresnet, please also install the development tools.</p> <p>Using <code>uv</code>:</p> <pre><code>uv pip install -e \".[dev,docs]\"\n</code></pre> <p>Using <code>pip</code>:</p> <pre><code>pip install -e \".[dev,docs]\"\n</code></pre> <p>Then install the pre-commit hooks:</p> <pre><code>pre-commit install\n</code></pre> <p>See CONTRIBUTING.md for more information about contributing.</p>"},{"location":"user_guide/","title":"User Guide","text":"<p>This guide provides comprehensive instructions on how to use <code>aresnet</code> for making resilient HTTP requests with automatic retry logic.</p>"},{"location":"user_guide/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Basic Usage</li> <li>Configuration Options</li> <li>Advanced Usage</li> <li>Error Handling</li> <li>Best Practices</li> <li>Real-World Examples</li> </ul>"},{"location":"user_guide/#basic-usage","title":"Basic Usage","text":""},{"location":"user_guide/#making-get-requests","title":"Making GET Requests","text":"<p>The simplest way to make an HTTP GET request with automatic retry:</p> <pre><code>from aresnet import get_with_automatic_retry\n\n# Basic GET request\nresponse = get_with_automatic_retry(\"https://api.example.com/users\")\nprint(response.json())\n</code></pre>"},{"location":"user_guide/#making-post-requests","title":"Making POST Requests","text":"<p>POST requests work similarly with support for JSON payloads and form data:</p> <pre><code>from aresnet import post_with_automatic_retry\n\n# POST with JSON payload\nresponse = post_with_automatic_retry(\n    \"https://api.example.com/users\",\n    json={\"name\": \"John Doe\", \"email\": \"john@example.com\"}\n)\nprint(response.status_code)\n\n# POST with form data\nresponse = post_with_automatic_retry(\n    \"https://api.example.com/submit\",\n    data={\"field1\": \"value1\", \"field2\": \"value2\"}\n)\n</code></pre>"},{"location":"user_guide/#configuration-options","title":"Configuration Options","text":""},{"location":"user_guide/#default-configuration","title":"Default Configuration","text":"<p><code>aresnet</code> comes with sensible defaults:</p> <pre><code>from aresnet import (\n    DEFAULT_TIMEOUT,         # 10.0 seconds\n    DEFAULT_MAX_RETRIES,     # 3 retries (4 total attempts)\n    DEFAULT_BACKOFF_FACTOR,  # 0.3 seconds\n    RETRY_STATUS_CODES,      # (429, 500, 502, 503, 504)\n)\n\nprint(f\"Timeout: {DEFAULT_TIMEOUT}\")\nprint(f\"Max retries: {DEFAULT_MAX_RETRIES}\")\nprint(f\"Backoff factor: {DEFAULT_BACKOFF_FACTOR}\")\nprint(f\"Retry on status codes: {RETRY_STATUS_CODES}\")\n</code></pre>"},{"location":"user_guide/#customizing-timeout","title":"Customizing Timeout","text":"<p>Control how long to wait for a server response:</p> <pre><code>from aresnet import get_with_automatic_retry\n\n# Short timeout for quick responses\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/health\",\n    timeout=5.0  # 5 seconds\n)\n\n# Longer timeout for slow endpoints\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/slow-endpoint\",\n    timeout=60.0  # 60 seconds\n)\n</code></pre> <p>You can also use httpx.Timeout for fine-grained control:</p> <pre><code>import httpx\nfrom aresnet import get_with_automatic_retry\n\n# Different timeouts for different operations\ntimeout = httpx.Timeout(\n    connect=5.0,   # 5 seconds to establish connection\n    read=30.0,     # 30 seconds to read response\n    write=10.0,    # 10 seconds to send request\n    pool=5.0       # 5 seconds to get connection from pool\n)\n\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    timeout=timeout\n)\n</code></pre>"},{"location":"user_guide/#customizing-retry-behavior","title":"Customizing Retry Behavior","text":"<p>Control how many times and how long between retries:</p> <pre><code>from aresnet import get_with_automatic_retry\n\n# More aggressive retry\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    max_retries=5,        # Retry up to 5 times\n    backoff_factor=0.5    # Longer waits between retries\n)\n\n# Less aggressive retry\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    max_retries=1,        # Only retry once\n    backoff_factor=0.1    # Shorter waits between retries\n)\n\n# No retry\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    max_retries=0  # No retries, fail immediately\n)\n</code></pre>"},{"location":"user_guide/#understanding-exponential-backoff","title":"Understanding Exponential Backoff","text":"<p>The wait time between retries is calculated using the exponential backoff formula:</p> <pre><code>wait_time = backoff_factor * (2 ** attempt)\n</code></pre> <p>Where <code>attempt</code> is 0-indexed (0, 1, 2, ...).</p>"},{"location":"user_guide/#example-with-default-backoff_factor03","title":"Example with default <code>backoff_factor=0.3</code>:","text":"<ul> <li>1st retry: 0.3 * (2^0) = 0.3 seconds</li> <li>2nd retry: 0.3 * (2^1) = 0.6 seconds</li> <li>3rd retry: 0.3 * (2^2) = 1.2 seconds</li> </ul>"},{"location":"user_guide/#example-with-backoff_factor10","title":"Example with <code>backoff_factor=1.0</code>:","text":"<ul> <li>1st retry: 1.0 * (2^0) = 1.0 seconds</li> <li>2nd retry: 1.0 * (2^1) = 2.0 seconds</li> <li>3rd retry: 1.0 * (2^2) = 4.0 seconds</li> </ul>"},{"location":"user_guide/#customizing-retryable-status-codes","title":"Customizing Retryable Status Codes","text":"<p>By default, <code>aresnet</code> retries on status codes 429, 500, 502, 503, and 504. You can customize this:</p> <pre><code>from aresnet import get_with_automatic_retry\n\n# Only retry on rate limiting\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    status_forcelist=(429,)\n)\n\n# Retry on server errors and rate limiting\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    status_forcelist=(429, 500, 502, 503, 504)\n)\n\n# Add custom status codes\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    status_forcelist=(408, 429, 500, 502, 503, 504)  # Include 408 Request Timeout\n)\n</code></pre>"},{"location":"user_guide/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user_guide/#using-a-custom-httpx-client","title":"Using a Custom httpx Client","text":"<p>For advanced configurations like custom headers, authentication, or connection pooling:</p> <pre><code>import httpx\nfrom aresnet import get_with_automatic_retry\n\n# Create a client with custom headers\nwith httpx.Client(\n    headers={\n        \"User-Agent\": \"MyApp/1.0\",\n        \"Authorization\": \"Bearer your-token-here\"\n    }\n) as client:\n    response = get_with_automatic_retry(\n        \"https://api.example.com/protected\",\n        client=client\n    )\n    print(response.json())\n</code></pre>"},{"location":"user_guide/#reusing-client-for-multiple-requests","title":"Reusing Client for Multiple Requests","text":"<p>When making multiple requests, reuse the same client for better performance:</p> <pre><code>import httpx\nfrom aresnet import get_with_automatic_retry, post_with_automatic_retry\n\nwith httpx.Client(\n    headers={\"Authorization\": \"Bearer token\"},\n    timeout=30.0\n) as client:\n    # Multiple requests using the same client\n    users = get_with_automatic_retry(\n        \"https://api.example.com/users\",\n        client=client\n    )\n\n    posts = get_with_automatic_retry(\n        \"https://api.example.com/posts\",\n        client=client\n    )\n\n    result = post_with_automatic_retry(\n        \"https://api.example.com/data\",\n        client=client,\n        json={\"data\": \"value\"}\n    )\n</code></pre>"},{"location":"user_guide/#passing-additional-httpx-arguments","title":"Passing Additional httpx Arguments","text":"<p>All <code>**kwargs</code> are passed directly to the underlying httpx methods:</p> <pre><code>from aresnet import get_with_automatic_retry, post_with_automatic_retry\n\n# GET with query parameters\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/search\",\n    params={\"q\": \"python\", \"page\": 1}\n)\n\n# GET with custom headers (without custom client)\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/data\",\n    headers={\"X-Custom-Header\": \"value\"}\n)\n\n# POST with files\nwith open(\"document.pdf\", \"rb\") as f:\n    response = post_with_automatic_retry(\n        \"https://api.example.com/upload\",\n        files={\"file\": f}\n    )\n\n# POST with both data and files\nresponse = post_with_automatic_retry(\n    \"https://api.example.com/submit\",\n    data={\"title\": \"My Document\"},\n    files={\"attachment\": open(\"file.txt\", \"rb\")}\n)\n</code></pre>"},{"location":"user_guide/#error-handling","title":"Error Handling","text":""},{"location":"user_guide/#understanding-httprequesterror","title":"Understanding HttpRequestError","text":"<p><code>aresnet</code> raises <code>HttpRequestError</code> when a request fails after all retries:</p> <pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ntry:\n    response = get_with_automatic_retry(\"https://api.example.com/data\")\nexcept HttpRequestError as e:\n    print(f\"Request failed: {e}\")\n    print(f\"Method: {e.method}\")          # 'GET'\n    print(f\"URL: {e.url}\")                # 'https://api.example.com/data'\n    print(f\"Status Code: {e.status_code}\") # e.g., 500\n    if e.response:\n        print(f\"Response body: {e.response.text}\")\n</code></pre>"},{"location":"user_guide/#common-error-scenarios","title":"Common Error Scenarios","text":""},{"location":"user_guide/#timeout-errors","title":"Timeout Errors","text":"<p>When a request times out after all retries:</p> <pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ntry:\n    response = get_with_automatic_retry(\n        \"https://slow-api.example.com/data\",\n        timeout=1.0,\n        max_retries=2\n    )\nexcept HttpRequestError as e:\n    # status_code will be None for timeout errors\n    if e.status_code is None:\n        print(\"Request timed out\")\n</code></pre>"},{"location":"user_guide/#network-errors","title":"Network Errors","text":"<p>When the connection fails (DNS errors, connection refused, etc.):</p> <pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ntry:\n    response = get_with_automatic_retry(\"https://nonexistent-domain.invalid\")\nexcept HttpRequestError as e:\n    if e.status_code is None:\n        print(f\"Network error: {e}\")\n</code></pre>"},{"location":"user_guide/#http-error-responses","title":"HTTP Error Responses","text":"<p>When the server returns an error status code:</p> <pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ntry:\n    response = get_with_automatic_retry(\"https://api.example.com/not-found\")\nexcept HttpRequestError as e:\n    if e.status_code == 404:\n        print(\"Resource not found\")\n    elif e.status_code == 401:\n        print(\"Unauthorized\")\n    elif e.status_code == 403:\n        print(\"Forbidden\")\n</code></pre>"},{"location":"user_guide/#validating-responses","title":"Validating Responses","text":"<p>Check response status and content:</p> <pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ntry:\n    response = get_with_automatic_retry(\"https://api.example.com/data\")\n\n    # Response is automatically successful (2xx or 3xx)\n    # if we get here\n    data = response.json()\n\n    # Additional validation if needed\n    if \"error\" in data:\n        print(f\"API returned an error: {data['error']}\")\n\nexcept HttpRequestError as e:\n    print(f\"Request failed: {e}\")\nexcept ValueError as e:\n    print(f\"Invalid JSON response: {e}\")\n</code></pre>"},{"location":"user_guide/#best-practices","title":"Best Practices","text":""},{"location":"user_guide/#1-use-appropriate-timeouts","title":"1. Use Appropriate Timeouts","text":"<p>Set timeouts based on your expected response times:</p> <pre><code># Quick health check\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/health\",\n    timeout=5.0\n)\n\n# Large data download\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/large-dataset\",\n    timeout=120.0\n)\n</code></pre>"},{"location":"user_guide/#2-reuse-http-clients","title":"2. Reuse HTTP Clients","text":"<p>When making multiple requests, reuse the client to benefit from connection pooling:</p> <pre><code>import httpx\nfrom aresnet import get_with_automatic_retry\n\n# Good: Reuse client\nwith httpx.Client() as client:\n    for url in urls:\n        response = get_with_automatic_retry(url, client=client)\n        process_response(response)\n\n# Bad: Creates new client for each request\nfor url in urls:\n    response = get_with_automatic_retry(url)\n    process_response(response)\n</code></pre>"},{"location":"user_guide/#3-adjust-retry-strategy-based-on-use-case","title":"3. Adjust Retry Strategy Based on Use Case","text":"<p>For user-facing operations, use fewer retries for faster failure:</p> <pre><code># User-facing: fail fast\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/user-data\",\n    max_retries=1,\n    timeout=10.0\n)\n</code></pre> <p>For background jobs, use more retries:</p> <pre><code># Background job: be more resilient\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/batch-process\",\n    max_retries=5,\n    backoff_factor=1.0,\n    timeout=60.0\n)\n</code></pre>"},{"location":"user_guide/#4-log-failed-requests","title":"4. Log Failed Requests","text":"<pre><code>import logging\nfrom aresnet import get_with_automatic_retry, HttpRequestError\n\nlogger = logging.getLogger(__name__)\n\ntry:\n    response = get_with_automatic_retry(\"https://api.example.com/data\")\nexcept HttpRequestError as e:\n    logger.error(\n        f\"Request failed after retries: {e.method} {e.url}\",\n        extra={\n            \"status_code\": e.status_code,\n            \"error\": str(e)\n        }\n    )\n    raise\n</code></pre>"},{"location":"user_guide/#5-handle-rate-limiting-gracefully","title":"5. Handle Rate Limiting Gracefully","text":"<p>If you're hitting rate limits frequently, consider:</p> <pre><code># Increase backoff for rate-limited endpoints\nresponse = get_with_automatic_retry(\n    \"https://api.example.com/rate-limited\",\n    max_retries=5,\n    backoff_factor=2.0,  # Longer waits\n    status_forcelist=(429,)  # Only retry on rate limit\n)\n</code></pre>"},{"location":"user_guide/#real-world-examples","title":"Real-World Examples","text":""},{"location":"user_guide/#example-1-fetching-data-from-a-rest-api","title":"Example 1: Fetching Data from a REST API","text":"<pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ndef fetch_user_data(user_id):\n    \"\"\"Fetch user data from API with automatic retry.\"\"\"\n    try:\n        response = get_with_automatic_retry(\n            f\"https://api.example.com/users/{user_id}\",\n            timeout=10.0,\n            max_retries=3\n        )\n        return response.json()\n    except HttpRequestError as e:\n        if e.status_code == 404:\n            return None  # User not found\n        raise  # Re-raise other errors\n\nuser = fetch_user_data(123)\nif user:\n    print(f\"User: {user['name']}\")\nelse:\n    print(\"User not found\")\n</code></pre>"},{"location":"user_guide/#example-2-authenticated-api-requests","title":"Example 2: Authenticated API Requests","text":"<pre><code>import httpx\nfrom aresnet import get_with_automatic_retry, post_with_automatic_retry\n\nclass APIClient:\n    def __init__(self, api_key):\n        self.client = httpx.Client(\n            headers={\"Authorization\": f\"Bearer {api_key}\"},\n            timeout=30.0\n        )\n\n    def get_users(self):\n        response = get_with_automatic_retry(\n            \"https://api.example.com/users\",\n            client=self.client\n        )\n        return response.json()\n\n    def create_user(self, name, email):\n        response = post_with_automatic_retry(\n            \"https://api.example.com/users\",\n            client=self.client,\n            json={\"name\": name, \"email\": email}\n        )\n        return response.json()\n\n    def close(self):\n        self.client.close()\n\n# Usage\nclient = APIClient(\"your-api-key\")\ntry:\n    users = client.get_users()\n    new_user = client.create_user(\"John Doe\", \"john@example.com\")\nfinally:\n    client.close()\n</code></pre>"},{"location":"user_guide/#example-3-batch-processing-with-retries","title":"Example 3: Batch Processing with Retries","text":"<pre><code>from aresnet import post_with_automatic_retry, HttpRequestError\nimport logging\n\nlogger = logging.getLogger(__name__)\n\ndef process_batch(items):\n    \"\"\"Process a batch of items with retry logic.\"\"\"\n    results = []\n    errors = []\n\n    for item in items:\n        try:\n            response = post_with_automatic_retry(\n                \"https://api.example.com/process\",\n                json={\"item\": item},\n                max_retries=3,\n                backoff_factor=0.5\n            )\n            results.append(response.json())\n        except HttpRequestError as e:\n            logger.error(f\"Failed to process item {item}: {e}\")\n            errors.append({\"item\": item, \"error\": str(e)})\n\n    return results, errors\n\n# Process items\nitems = [\"item1\", \"item2\", \"item3\"]\nresults, errors = process_batch(items)\nprint(f\"Processed {len(results)} items, {len(errors)} errors\")\n</code></pre>"},{"location":"user_guide/#example-4-webhook-with-retry","title":"Example 4: Webhook with Retry","text":"<pre><code>from aresnet import post_with_automatic_retry, HttpRequestError\nimport json\n\ndef send_webhook(url, event_type, data):\n    \"\"\"Send webhook with automatic retry.\"\"\"\n    payload = {\n        \"event\": event_type,\n        \"data\": data,\n        \"timestamp\": \"2024-01-01T00:00:00Z\"\n    }\n\n    try:\n        response = post_with_automatic_retry(\n            url,\n            json=payload,\n            max_retries=5,\n            backoff_factor=1.0,\n            timeout=10.0\n        )\n        return True\n    except HttpRequestError as e:\n        # Log the failure but don't crash the application\n        print(f\"Webhook delivery failed: {e}\")\n        return False\n\n# Send webhook\nsuccess = send_webhook(\n    \"https://hooks.example.com/webhook\",\n    \"user.created\",\n    {\"user_id\": 123, \"email\": \"user@example.com\"}\n)\n</code></pre>"},{"location":"user_guide/#example-5-paginated-api-requests","title":"Example 5: Paginated API Requests","text":"<pre><code>from aresnet import get_with_automatic_retry, HttpRequestError\n\ndef fetch_all_pages(base_url, per_page=100):\n    \"\"\"Fetch all pages from a paginated API.\"\"\"\n    all_items = []\n    page = 1\n\n    while True:\n        try:\n            response = get_with_automatic_retry(\n                base_url,\n                params={\"page\": page, \"per_page\": per_page},\n                max_retries=3\n            )\n            data = response.json()\n\n            items = data.get(\"items\", [])\n            if not items:\n                break  # No more pages\n\n            all_items.extend(items)\n            page += 1\n\n            # Check if we've reached the last page\n            if not data.get(\"has_next\", False):\n                break\n\n        except HttpRequestError as e:\n            print(f\"Failed to fetch page {page}: {e}\")\n            break\n\n    return all_items\n\n# Fetch all users\nusers = fetch_all_pages(\"https://api.example.com/users\")\nprint(f\"Fetched {len(users)} users\")\n</code></pre>"},{"location":"user_guide/#additional-resources","title":"Additional Resources","text":"<ul> <li>API Reference - Complete API documentation</li> <li>Get Started - Installation and setup instructions</li> <li>httpx Documentation - Learn more about the underlying library</li> </ul>"},{"location":"refs/","title":"API Reference","text":"<p>This page provides comprehensive API documentation for all public functions and classes in <code>aresnet</code>.</p>"},{"location":"refs/#http-request-functions","title":"HTTP Request Functions","text":""},{"location":"refs/#get_with_automatic_retry","title":"get_with_automatic_retry","text":""},{"location":"refs/#aresnet.get_with_automatic_retry","title":"aresnet.get_with_automatic_retry","text":"<pre><code>get_with_automatic_retry(url: str, *, client: Client | None = None, timeout: float | Timeout = DEFAULT_TIMEOUT, max_retries: int = DEFAULT_MAX_RETRIES, backoff_factor: float = DEFAULT_BACKOFF_FACTOR, status_forcelist: tuple[int, ...] = RETRY_STATUS_CODES, **kwargs: Any) -&gt; Response\n</code></pre> <p>Send an HTTP GET request with automatic retry logic for transient errors.</p> <p>This function performs an HTTP GET request with a configured retry policy for transient server errors (429, 500, 502, 503, 504). It applies an exponential backoff retry strategy. The function validates the HTTP response and raises detailed errors for failures.</p> <p>Parameters:</p> Name Type Description Default <code>url</code> <code>str</code> <p>The URL to send the GET request to.</p> required <code>client</code> <code>Client | None</code> <p>An optional httpx.Client object to use for making requests. If None, a new client will be created and closed after use.</p> <code>None</code> <code>timeout</code> <code>float | Timeout</code> <p>Maximum seconds to wait for the server response. Only used if client is None.</p> <code>DEFAULT_TIMEOUT</code> <code>max_retries</code> <code>int</code> <p>Maximum number of retry attempts for failed requests. Must be &gt;= 0.</p> <code>DEFAULT_MAX_RETRIES</code> <code>backoff_factor</code> <code>float</code> <p>Factor for exponential backoff between retries. The wait time is calculated as: {backoff_factor} * (2 ** retry_number) seconds. Must be &gt;= 0.</p> <code>DEFAULT_BACKOFF_FACTOR</code> <code>status_forcelist</code> <code>tuple[int, ...]</code> <p>Tuple of HTTP status codes that should trigger a retry.</p> <code>RETRY_STATUS_CODES</code> <code>**kwargs</code> <code>Any</code> <p>Additional keyword arguments passed to <code>httpx.Client.get()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Response</code> <p>An httpx.Response object containing the server's HTTP response.</p> <p>Raises:</p> Type Description <code>HttpRequestError</code> <p>If the request times out, encounters network errors, or fails after exhausting all retries.</p> <code>ValueError</code> <p>If max_retries or backoff_factor are negative.</p> Example <pre><code>&gt;&gt;&gt; from aresnet import get_with_automatic_retry\n&gt;&gt;&gt; response = get_with_automatic_retry(\n...     \"https://api.example.com/data\", json={\"key\": \"value\"}\n... )  # doctest: +SKIP\n&gt;&gt;&gt; response.json()  # doctest: +SKIP\n</code></pre>"},{"location":"refs/#post_with_automatic_retry","title":"post_with_automatic_retry","text":""},{"location":"refs/#aresnet.post_with_automatic_retry","title":"aresnet.post_with_automatic_retry","text":"<pre><code>post_with_automatic_retry(url: str, *, client: Client | None = None, timeout: float | Timeout = DEFAULT_TIMEOUT, max_retries: int = DEFAULT_MAX_RETRIES, backoff_factor: float = DEFAULT_BACKOFF_FACTOR, status_forcelist: tuple[int, ...] = RETRY_STATUS_CODES, **kwargs: Any) -&gt; Response\n</code></pre> <p>Send an HTTP POST request with automatic retry logic for transient errors.</p> <p>This function performs an HTTP POST request with a configured retry policy for transient server errors (429, 500, 502, 503, 504). It applies an exponential backoff retry strategy. The function validates the HTTP response and raises detailed errors for failures.</p> <p>Parameters:</p> Name Type Description Default <code>url</code> <code>str</code> <p>The URL to send the POST request to.</p> required <code>client</code> <code>Client | None</code> <p>An optional httpx.Client object to use for making requests. If None, a new client will be created and closed after use.</p> <code>None</code> <code>timeout</code> <code>float | Timeout</code> <p>Maximum seconds to wait for the server response. Only used if client is None.</p> <code>DEFAULT_TIMEOUT</code> <code>max_retries</code> <code>int</code> <p>Maximum number of retry attempts for failed requests. Must be &gt;= 0.</p> <code>DEFAULT_MAX_RETRIES</code> <code>backoff_factor</code> <code>float</code> <p>Factor for exponential backoff between retries. The wait time is calculated as: {backoff_factor} * (2 ** retry_number) seconds. Must be &gt;= 0.</p> <code>DEFAULT_BACKOFF_FACTOR</code> <code>status_forcelist</code> <code>tuple[int, ...]</code> <p>Tuple of HTTP status codes that should trigger a retry.</p> <code>RETRY_STATUS_CODES</code> <code>**kwargs</code> <code>Any</code> <p>Additional keyword arguments passed to <code>httpx.Client.post()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Response</code> <p>An httpx.Response object containing the server's HTTP response.</p> <p>Raises:</p> Type Description <code>HttpRequestError</code> <p>If the request times out, encounters network errors, or fails after exhausting all retries.</p> <code>ValueError</code> <p>If max_retries or backoff_factor are negative.</p> Example <pre><code>&gt;&gt;&gt; from aresnet import post_with_automatic_retry\n&gt;&gt;&gt; response = post_with_automatic_retry(\n...     \"https://api.example.com/data\", json={\"key\": \"value\"}\n... )  # doctest: +SKIP\n&gt;&gt;&gt; response.json()  # doctest: +SKIP\n</code></pre>"},{"location":"refs/#exceptions","title":"Exceptions","text":""},{"location":"refs/#httprequesterror","title":"HttpRequestError","text":""},{"location":"refs/#aresnet.HttpRequestError","title":"aresnet.HttpRequestError","text":"<p>               Bases: <code>RuntimeError</code></p> <p>Exception raised when an HTTP request fails.</p> <p>This exception captures comprehensive details about failed HTTP requests, including the request method, URL, status code, and the full response object when available. It supports exception chaining to preserve the original cause of the error.</p> <p>Parameters:</p> Name Type Description Default <code>method</code> <code>str</code> <p>The HTTP method used for the request (e.g., 'GET', 'POST').</p> required <code>url</code> <code>str</code> <p>The target URL that was requested.</p> required <code>message</code> <code>str</code> <p>A descriptive error message explaining the failure.</p> required <code>status_code</code> <code>int | None</code> <p>The HTTP status code returned by the server, if the request reached the server. Defaults to <code>None</code> if the request failed before receiving a response.</p> <code>None</code> <code>response</code> <code>Response | None</code> <p>The complete httpx.Response object containing headers, body, and other response details. Defaults to <code>None</code> if no response was received.</p> <code>None</code> <code>cause</code> <code>Exception | None</code> <p>The original exception that caused this error, used for exception chaining. Defaults to <code>None</code>.</p> <code>None</code> <p>Attributes:</p> Name Type Description <code>method</code> <code>str</code> <p>The HTTP method used for the request.</p> <code>url</code> <code>str</code> <p>The target URL that was requested.</p> <code>status_code</code> <code>int | None</code> <p>The HTTP status code, if available.</p> <code>response</code> <code>Response | None</code> <p>The full response object, if available.</p> <p>Examples:</p> <p>Raising an error for a failed GET request:</p> <pre><code>&gt;&gt;&gt; raise HttpRequestError(\n...     method=\"GET\",\n...     url=\"https://api.example.com/data\",\n...     message=\"Request failed with status 404\",\n...     status_code=404,\n... )  # doctest: +SKIP\n</code></pre> <p>Chaining with an original exception:</p> <pre><code>&gt;&gt;&gt; try:\n...     # Some httpx request\n...     pass\n... except httpx.RequestError as e:\n...     raise HttpRequestError(\n...         method=\"POST\",\n...         url=\"https://api.example.com/submit\",\n...         message=\"Connection failed\",\n...         cause=e,\n...     )\n...\n</code></pre>"},{"location":"refs/#configuration-constants","title":"Configuration Constants","text":""},{"location":"refs/#default_timeout","title":"DEFAULT_TIMEOUT","text":""},{"location":"refs/#aresnet.DEFAULT_TIMEOUT","title":"aresnet.DEFAULT_TIMEOUT  <code>module-attribute</code>","text":"<pre><code>DEFAULT_TIMEOUT = 10.0\n</code></pre>"},{"location":"refs/#default_max_retries","title":"DEFAULT_MAX_RETRIES","text":""},{"location":"refs/#aresnet.DEFAULT_MAX_RETRIES","title":"aresnet.DEFAULT_MAX_RETRIES  <code>module-attribute</code>","text":"<pre><code>DEFAULT_MAX_RETRIES = 3\n</code></pre>"},{"location":"refs/#default_backoff_factor","title":"DEFAULT_BACKOFF_FACTOR","text":""},{"location":"refs/#aresnet.DEFAULT_BACKOFF_FACTOR","title":"aresnet.DEFAULT_BACKOFF_FACTOR  <code>module-attribute</code>","text":"<pre><code>DEFAULT_BACKOFF_FACTOR = 0.3\n</code></pre>"},{"location":"refs/#retry_status_codes","title":"RETRY_STATUS_CODES","text":""},{"location":"refs/#aresnet.RETRY_STATUS_CODES","title":"aresnet.RETRY_STATUS_CODES  <code>module-attribute</code>","text":"<pre><code>RETRY_STATUS_CODES = (429, 500, 502, 503, 504)\n</code></pre>"}]}